<div class="section">
  <div class="flex-box">

    <div class="flex-left">
 
      <!-- Price Filter -->
      <div class="filterSection" id="priceFilter">
        <div><span class="name">Price</span><button (click)="resetRanges()" title="Reset price ranges" class="reset">Reset</button></div>
        <hr>
        <form [formGroup]="rangeControl">
        <input formControlName="min" placeholder="from" type="number">
        <span>-</span>
        <input formControlName="max" placeholder="to" type="number">
        <button id="activate" [class.deactivated]="rangeControl.invalid" [disabled]="rangeControl.invalid" [title]="rangeControl.invalid ? 'invalid ranges' : ''" (click)="setRanges()">&#9654;</button>
        </form>
      </div>

      <!-- Color Filter -->
      <div class="filterSection" id="colorFilter">
        <div>
          <span class="color-name">Color</span>
          <button (click)="resetColors()" title="Reset color filters" class="reset">Reset</button>
          <div class="items-right reset-color-filter">
            <label title="Filter colors in strict mode" #strictLabel [style.opacity]="fs.strict ? 1 : 0.3" (click)="fs.strict = !fs.strict; toggleOpacity(strictLabel,'strict')">strict</label>
          </div>
        </div>

        <hr>
          <button *ngFor="let color of initColorArr"
          [title]="decodeColorName(color)"
          [style.background]="color"
          [class.selectedColor]="fs.colorArray.includes(color)"
          class="colorSelector"
          (click)="fs.toggleColors(color);update()"
          ></button>

      </div>


      <!-- Material Filter -->
      <div class="filterSection" id="materialFilter">
        <div><span class="name">Material</span><button (click)="resetMaterials()" title="Reset material filters" class="reset">Reset</button></div>
        <hr>
        <div [formGroup]="materials">
          <div class="mat-first-box">
            <span [class.active]="materials.get('iron').value"><input formControlName="iron" type="checkbox" id="iron"><label for="iron">Iron</label></span>
            <span [class.active]="materials.get('leather').value"><input formControlName="leather" type="checkbox" id="leather"><label for="leather">Leather</label></span>
            <span [class.active]="materials.get('plastic').value"><input formControlName="plastic" type="checkbox" id="plastic"><label for="plastic">Plastic</label></span>
          </div><div class="mat-last-box">
            <span [class.active]="materials.get('gold').value"><input formControlName="gold" type="checkbox" id="gold"><label for="gold">Gold</label></span>
            <span [class.active]="materials.get('silver').value"><input formControlName="silver" type="checkbox" id="silver"><label for="silver">Silver</label></span>
            <span [class.active]="materials.get('bronze').value"><input formControlName="bronze" type="checkbox" id="bronze"><label for="bronze">Bronze</label></span>
          </div>
        </div>
      </div>
      <div class="filterSection">
        <hr>
        <button (click)="resetFilters()" title="Reset all filters" class="reset resetall">Reset All</button>
        <label title="Remember filters while navigating to other pages" id="rememberLabel" #rememberLabel [style.opacity]="fs.remember ? 1 : 0.3" (click)="fs.remember = !fs.remember; toggleOpacity(rememberLabel,'remember')">Remember Filters</label>
      </div>
    </div> 

    <div class="flex-right">
      <div class="bread-crumbs sort-section" *ngIf="path">   <!--special for MARIAM (bread crumbs)-->
        <ng-container *ngFor="let segment of path, last as last">
          <span class="path">{{segment}}</span>
          <span class="pathArrow" *ngIf="!last">&#xbb;</span>
        </ng-container>
        <span *ngIf="allProducts" class="quantity"><u>{{allProducts.length}} products found</u></span>
        <span *ngIf="allProducts" id="sortSelector">
         

            <mat-form-field>
                <!-- <mat-label>By Date</mat-label> -->
                <mat-select [formControl]="sortControl">
                      <mat-option value="postDate">By Date</mat-option>
                      <mat-option value="price">By Price</mat-option>
                      <mat-option value="rating">By Rating</mat-option>
                </mat-select>
              </mat-form-field>
              

          <!-- <select >
            <option By Date</option>
            <option value="price">By Price</option>
            <option value="rating">By Rating</option>
         
          </select> -->
       
        </span>
      </div>

      <app-product-list
      *ngIf="allProducts"
      [productCollection]="allProducts"
      [config]="{ratio: 3, info: true, likeable: true}"
      ></app-product-list>

    </div>

  </div>
</div>