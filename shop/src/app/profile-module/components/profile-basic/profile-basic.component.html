
<div class="page-container" *ngIf="(profileData | async) as data; else loading">

    <div class="user-info">
        <div class="main-info">
            <div class="intro"> 
                <span class="full-name">{{data.user.firstName}} {{data.user.lastName}}</span>
                <span class="rating">{{data.user.rating | rating}}</span>
            </div>
            <div class="registered-since">
                member of mode-concept since 
                {{timestampToDate(data.user.registeredDate) | date}}
            </div>
        </div>
        <div class="contacts">
            
            <div class="adress">
                <span>{{data.user.city}}, </span>
                <span>{{data.user.country}}</span>
                <img src="https://www.countryflags.io/be/flat/24.png">
            </div>
            <div class="mail">
                <a href="mailto: {{data.user.email}}">{{data.user.email}}</a>
            </div>
            <div class="direct-message">
                <img [_persistance]="openChat"  title="Direct Message" src="assets/chat/notyfy-img.png">
            </div>
        </div>
    </div>

    <div *ngIf="data.reviews.length; else noReviews" class="content-block">
        <app-rating-graph
        [reviews]="data.reviews"
        [reviewers]="data.reviewers"
        ></app-rating-graph>
    </div>
        
    <ng-template #noReviews>
        <div>No Reviews</div>
    </ng-template>
    
    <div *ngIf="data.posts.length; else noPosts" class="content-block">
        <app-last-activity [products]="data.posts"></app-last-activity>
    </div>

    <ng-template #noPosts>
        <div>No posts so far</div>
    </ng-template>

</div>


<ng-template #loading>
    <div id="loading">
        <mat-spinner id="spinner" [diameter]="25"></mat-spinner>
    </div>
</ng-template>